<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>


        // const getDataCallback = (num, callback) => {
        //     setTimeout(()=>{
        //         if(typeof num === 'number') 
        //             callback(undefined, num * 2);
        //         else 
        //             callback('숫자가 아닙니다.', num);
        //     },1000);
        // };

        // getDataCallback(2, (errMsg, data) => {
        //     if(errMsg !== undefined){
        //         console.log(errMsg)
        //     }
        //     else{
        //         getDataCallback(data, (errMsg, data) => {
        //             if(errMsg !== undefined) {
        //                 console.log(errMsg);
        //             }else{
        //                 getDataCallback(data, (errMsg, data) => {
        //                     if(errMsg !== undefined) {
        //                         console.log(errMsg);
        //                     }else{
        //                         console.log(data);
        //                     }
        //                 });
        //             }
        //         });
        //     }
        // });

        // const getDataPromise = num => new Promise((resolve, reject) =>{
        //     setTimeout(() => {
        //         typeof num === 'number' ? resolve(num * 2) : reject('숫자가 아닙니다.');
        //     }, 1000);
        // });

        // getDataPromise(2)
        //     .then(data => getDataPromise(data))
        //     .then(data => getDataPromise(data))
        //     .then(data => console.log(data))    // 16을 출력
        //     .catch(errMsg => console.log(errMsg));



        // 콘솔에 출력되는 값은?

        const getPositivePromise = num => new Promise((resolve, reject) => {
            setTimeout(() => num > 0 ? resolve(num) : reject(num), 1000);
        });

        getPositivePromise(14)
            .then(num => {
                console.log(num);
                return getPositivePromise(num - 5);
            })
            .then(num => {
                console.log(num);
                return getPositivePromise(num - 5);
            })
            .then(num => {
                console.log(num);
                return getPositivePromise(num - 5);
            })
            .then(num => {
                console.log(num);
                return getPositivePromise(num - 5);
            })
            .catch(num => {
                console.log(`${num} is negative!`);
            });

        
            // 14
            // 9
            // 4
            // -1 is negative!
        

    </script>
</body>
</html>